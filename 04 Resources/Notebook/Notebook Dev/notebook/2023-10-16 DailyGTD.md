---
completed_tasks: 0
created: 2023-10-16
incomplete_tasks: 2
note_type: page
parent: "[[04 Resources/Notebook/Notebook Dev/notebook/2023-10-07 UpdatingProjectTracking]]"
people: []
topics:
  - "[[03 Areas/Software/Obsidian/Obsidian|Obsidian]]"
total_tasks: 2
project: "[[04 Resources/Notebook/Notebook Dev/Notebook Dev.md|Notebook Dev]]"
projectCategory: "null"
---
# Notes
## Meta
- Using DataviewJs because it allows you to append the file level metadata to the task prior to generating tables and so on
- You have a list version of this in each of your project and project task notes
	- Turns out that's like kinda helpful, but isn't enough aggregation to actually see what you need to track 
- You want both a list and table version of this I think
	- The table is the a much more data rich, compact and readable version of the list
		- This Post shows how to use (.map) to make tasks as a table
			- [Format data in dataviewjs - Help - Obsidian Forum](https://forum.obsidian.md/t/format-data-in-dataviewjs/67108)
	- Lists are light and easy and usually linkable
		- Still need to add the task link to the task more clearly, because those headers suck
- Pretty sure I don't need to make numerous nested headings, but if I do 
	- [Using DataviewJS to dynamically create multiple tables | Productived.net](https://www.productived.net/articles/using-dataviewjs-to-dynamically-create-multiple-headings-and-tables)

## References
- Anything Holroy posted about tables and tasks in the obsidian forum
- [Create dataview table of multiple tasks within notes - Help - Obsidian Forum](https://forum.obsidian.md/t/create-dataview-table-of-multiple-tasks-within-notes/31054)
- [Creating a dataview table Tasks and Subtasks from certain headers - Help - Obsidian Forum](https://forum.obsidian.md/t/creating-a-dataview-table-tasks-and-subtasks-from-certain-headers/58574)
## Table

```
const currentTime = dv.date(`today`)
// console.log(`Current Time = ${currentTime}`);
const myTasks = dv.pages()
					.where(p => String(p.project).includes(dv.current().file.link) == true)
					.file.tasks
						.where(t => t.checked === false);
							

for (let task of myTasks) {
	if (typeof (task.created) == "undefined") {
	task.created = dv.page(task.path).file.frontmatter.created
	};
	if (dv.page(task.path).file.frontmatter.scheduled) {
	task.scheduled = dv.page(task.path).file.frontmatter.scheduled
	};
	if (dv.page(task.path).file.frontmatter.start) {
	task.start = dv.page(task.path).file.frontmatter.start
	};
	if (dv.page(task.path).file.frontmatter.project) {
	task.project = dv.page(task.path).file.frontmatter.project
	};
};

const myStartedTasks = myTasks
						.where(t => {
							const cTime = DateTime.fromISO(t.created);
							if (typeof (t.start) == "undefined") {
								// console.log(`when start undef, cTime = ${cTime}`);
								// console.log(`${cTime.diff(currentTime).as(`minutes`)}`);
								return cTime.diff(currentTime).as(`minutes`) - 10 < 0;
							} else {
								const sTime = DateTime.fromISO(t.start); 
								const createdTime = (cTime.diff(sTime).as(`minutes`) > 0) ? cTime : sTime;
								// console.log(`WITH ${sTime} and ${cTime}`);
								// console.log(`${createdTime}`);
								return createdTime.diff(currentTime).as(`minutes`) - 10 < 0;
							}
						});

const myScheduledTasks = myStartedTasks
							.where(t => {
							return typeof(t.scheduled) != "undefined"});
dv.header(2, "Table");
dv.table(["Task", "Link", "Due", "Started", "Created", "Scheduled", "Project"],
    myTasks.map(t => [
		t.text,
		t.link,
		t.due,
		t.start,
		t.created,
		t.scheduled,
		t.project
		])
    )
```

Rendered Below


```dataviewjs
const currentTime = dv.date(`today`)
// console.log(`Current Time = ${currentTime}`);
let var1 = dv.current().tableRef;
const myTasks = dv.pages()
					.where(p => String(p.project).includes(var1) == true)
					.file.tasks
						.where(t => t.checked === false);
							

for (let task of myTasks) {
	if (typeof (task.created) == "undefined") {
	task.created = dv.page(task.path).file.frontmatter.created
	};
	if (dv.page(task.path).file.frontmatter.scheduled) {
	task.scheduled = dv.page(task.path).file.frontmatter.scheduled
	};
	if (dv.page(task.path).file.frontmatter.start) {
	task.start = dv.page(task.path).file.frontmatter.start
	};
	if (dv.page(task.path).file.frontmatter.project) {
	task.project = dv.page(task.path).file.frontmatter.project
	};
};

const myStartedTasks = myTasks
						.where(t => {
							const cTime = DateTime.fromISO(t.created);
							if (typeof (t.start) == "undefined") {
								// console.log(`when start undef, cTime = ${cTime}`);
								// console.log(`${cTime.diff(currentTime).as(`minutes`)}`);
								return cTime.diff(currentTime).as(`minutes`) - 10 < 0;
							} else {
								const sTime = DateTime.fromISO(t.start); 
								const createdTime = (cTime.diff(sTime).as(`minutes`) > 0) ? cTime : sTime;
								// console.log(`WITH ${sTime} and ${cTime}`);
								// console.log(`${createdTime}`);
								return createdTime.diff(currentTime).as(`minutes`) - 10 < 0;
							}
						});

const myScheduledTasks = myStartedTasks
							.where(t => {
							return typeof(t.scheduled) != "undefined"});
dv.header(2, "Table");
dv.table(["Task", "Link", "Due", "Started", "Created", "Scheduled", "Project"],
    myTasks.map(t => [
		t.text,
		t.link,
		t.due,
		t.start,
		t.created,
		t.scheduled,
		t.project
		])
    )
```


## List


```
const currentTime = dv.date(`today`)
// console.log(`Current Time = ${currentTime}`);
const myTasks = dv.pages()
					.where(p => String(p.project).includes(dv.current().file.link) == true)
					.file.tasks
						.where(t => t.checked === false);
							

for (let task of myTasks) {
	if (typeof (task.created) == "undefined") {
	task.created = dv.page(task.path).file.frontmatter.created
	};
	if (dv.page(task.path).file.frontmatter.scheduled) {
	task.scheduled = dv.page(task.path).file.frontmatter.scheduled
	};
	if (dv.page(task.path).file.frontmatter.start) {
	task.start = dv.page(task.path).file.frontmatter.start
	};
	if (dv.page(task.path).file.frontmatter.project) {
	task.project = dv.page(task.path).file.frontmatter.project
	};
};

const myStartedTasks = myTasks
						.where(t => {
							const cTime = DateTime.fromISO(t.created);
							if (typeof (t.start) == "undefined") {
								// console.log(`when start undef, cTime = ${cTime}`);
								// console.log(`${cTime.diff(currentTime).as(`minutes`)}`);
								return cTime.diff(currentTime).as(`minutes`) - 10 < 0;
							} else {
								const sTime = DateTime.fromISO(t.start); 
								const createdTime = (cTime.diff(sTime).as(`minutes`) > 0) ? cTime : sTime;
								// console.log(`WITH ${sTime} and ${cTime}`);
								// console.log(`${createdTime}`);
								return createdTime.diff(currentTime).as(`minutes`) - 10 < 0;
							}
						});

const myScheduledTasks = myStartedTasks
							.where(t => {
							return typeof(t.scheduled) != "undefined"});
							
dv.header(2, "Up Next");
dv.taskList(myScheduledTasks
				.where(t => {
					return DateTime.fromISO(t.due).diff(currentTime).as(`minutes`) + 10 > 0; }),
					false);

dv.header(2, "Scheduled or Waiting");
dv.taskList(myScheduledTasks
				.where(t => {
				return typeof(t.due) == "undefined"}),
				false);

dv.header(2, "Needs Scheduled");
dv.taskList(myStartedTasks
				.where(t => {
					return typeof(t.scheduled) == "undefined"}),
					false);

dv.header(2, "Needs Re-Scheduled");
dv.taskList(myStartedTasks
				.where(t => {
				const dTime = DateTime.fromISO(t.due);
				return dTime.diff(currentTime).as(`minutes`) < 0}),
				false);
```


```dataviewjs
const currentTime = dv.date(`today`)
// console.log(`Current Time = ${currentTime}`);
const myTasks = dv.pages()
					.where(p => String(p.project).includes(dv.current().file.link) == true)
					.file.tasks
						.where(t => t.checked === false);
							

for (let task of myTasks) {
	if (typeof (task.created) == "undefined") {
	task.created = dv.page(task.path).file.frontmatter.created
	};
	if (dv.page(task.path).file.frontmatter.scheduled) {
	task.scheduled = dv.page(task.path).file.frontmatter.scheduled
	};
	if (dv.page(task.path).file.frontmatter.start) {
	task.start = dv.page(task.path).file.frontmatter.start
	};
	if (dv.page(task.path).file.frontmatter.project) {
	task.project = dv.page(task.path).file.frontmatter.project
	};
};

const myStartedTasks = myTasks
						.where(t => {
							const cTime = DateTime.fromISO(t.created);
							if (typeof (t.start) == "undefined") {
								// console.log(`when start undef, cTime = ${cTime}`);
								// console.log(`${cTime.diff(currentTime).as(`minutes`)}`);
								return cTime.diff(currentTime).as(`minutes`) - 10 < 0;
							} else {
								const sTime = DateTime.fromISO(t.start); 
								const createdTime = (cTime.diff(sTime).as(`minutes`) > 0) ? cTime : sTime;
								// console.log(`WITH ${sTime} and ${cTime}`);
								// console.log(`${createdTime}`);
								return createdTime.diff(currentTime).as(`minutes`) - 10 < 0;
							}
						});

const myScheduledTasks = myStartedTasks
							.where(t => {
							return typeof(t.scheduled) != "undefined"});
							
dv.header(2, "Up Next");
dv.taskList(myScheduledTasks
				.where(t => {
					return DateTime.fromISO(t.due).diff(currentTime).as(`minutes`) + 10 > 0; }),
					false);

dv.header(2, "Scheduled or Waiting");
dv.taskList(myScheduledTasks
				.where(t => {
				return typeof(t.due) == "undefined"}),
				false);

dv.header(2, "Needs Scheduled");
dv.taskList(myStartedTasks
				.where(t => {
					return typeof(t.scheduled) == "undefined"}),
					false);

dv.header(2, "Needs Re-Scheduled");
dv.taskList(myStartedTasks
				.where(t => {
				const dTime = DateTime.fromISO(t.due);
				return dTime.diff(currentTime).as(`minutes`) < 0}),
				false);
```

## Daily GTD
- Pseudo code
	- Which tasks
		- Due today
		- Overdue
		- Scheduled this week?
	- What does Scheduled mean
		- That it happens around now?
			- Or just when I scheduled it?
			- Theoretically I've been used it as "upcoming"
			- But shouldn't that be due and upcoming?
		- What is "happening?"
			- Does that exist? Probably not - its not actionable 
		- 

```sql
.where(t => [' ', '/'].includes(t.status))
```
### Making Edits
- 
```dataviewjs
const currentTime = dv.date(`today`)
// console.log(`Current Time = ${currentTime}`);
let var1 = dv.current().tableRef;
const myTasks = dv.pages()
				//	.where(p => String(p.project).includes(var1) == true)
					.file.tasks
						.where(t => t.checked === false);
							

for (let task of myTasks) {
	if (typeof (task.created) == "undefined") {
	task.created = dv.page(task.path).file.frontmatter.created
	};
	if (dv.page(task.path).file.frontmatter.started) {
	task.started = dv.page(task.path).file.frontmatter.started
	};
	if (dv.page(task.path).file.frontmatter.project) {
	task.project = dv.page(task.path).file.frontmatter.project
	};
	if (dv.page(task.path).file.frontmatter.project_task) {
	task.project_task = dv.page(task.path).file.frontmatter.project_task
	};
};

const myStartedTasks = myTasks
						.where(t => {
							const cTime = DateTime.fromISO(t.created);
							if (typeof (t.start) == "undefined") {
								// console.log(`when start undef, cTime = ${cTime}`);
								// console.log(`${cTime.diff(currentTime).as(`minutes`)}`);
								return cTime.diff(currentTime).as(`minutes`) - 10 < 0;
							} else {
								const sTime = DateTime.fromISO(t.start); 
								const createdTime = (cTime.diff(sTime).as(`minutes`) > 0) ? cTime : sTime;
								// console.log(`WITH ${sTime} and ${cTime}`);
								// console.log(`${createdTime}`);
								return createdTime.diff(currentTime).as(`minutes`) - 10 < 0;
							}
						});

const myScheduledTasks = myStartedTasks
							.where(t => {
							return typeof(t.scheduled) != "undefined"});
dv.header(2, "Table");
dv.table(["Task", "Link", "Due", "Started", "Created", "Project", "Task"],
    myTasks.map(t => [
		t.text,
		t.link,
		t.due,
		t.started,
		t.created,
		t.project,
		t.project_task
		])
    )
```

# Tasks
- Add links to tasks in GTD
- Consider what your Daily Project Tracking looks like now
